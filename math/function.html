

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8.5. Functions &mdash; CHERAB 1.01 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8.6. Interpolators" href="interpolators.html" />
    <link rel="prev" title="8.4. Constants" href="constant.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> CHERAB
          

          
          </a>

          
            
            
              <div class="version">
                1.01
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../welcome.html">1. Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../licence.html">2. Licence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation_and_structure.html">3. Installation and Project Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../available_modules.html">4. Available Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../atomic/atomic_data.html">5. Atomic Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plasmas/plasmas.html">6. Plasmas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/emission_models.html">7. Emission Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="math.html">8. Function Framework</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="blend.html">8.1. Blending</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">8.2. Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="clamp.html">8.3. Clamps</a></li>
<li class="toctree-l2"><a class="reference internal" href="constant.html">8.4. Constants</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">8.5. Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#d-vector-functions">8.5.1. 2D Vector Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">8.5.2. 3D Vector Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="interpolators.html">8.6. Interpolators</a></li>
<li class="toctree-l2"><a class="reference internal" href="mappers.html">8.7. Mappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="mask.html">8.8. Masks</a></li>
<li class="toctree-l2"><a class="reference internal" href="samplers.html">8.9. Samplers</a></li>
<li class="toctree-l2"><a class="reference internal" href="slice.html">8.10. Slicing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools/tools.html">9. Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Demonstrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html">Atomic Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html#creating-plasmas">Creating Plasmas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html#surface-radiation-loads">Surface Radiation Loads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html#active-spectroscopy">Active Spectroscopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html#code-examples-gallery">Code examples gallery</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CHERAB</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="math.html">8. Function Framework</a> &raquo;</li>
        
      <li>8.5. Functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/math/function.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="functions">
<h1>8.5. Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h1>
<p>The CHERAB function framework is built on the core Raysect 1D, 2D and 3D
<a class="reference external" href="https://raysect.github.io/documentation/api_reference/core/functions.html">function framework</a>.
For more details on the base functionality refer to the Raysect
documentation and the CHERAB function tutorials. The only new classes of functions
added by CHERAB are 2D and 3D Vector functions.</p>
<div class="section" id="d-vector-functions">
<h2>8.5.1. 2D Vector Functions<a class="headerlink" href="#d-vector-functions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cherab.core.math.function.VectorFunction2D">
<em class="property">class </em><code class="descclassname">cherab.core.math.function.</code><code class="descname">VectorFunction2D</code><a class="headerlink" href="#cherab.core.math.function.VectorFunction2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython optimised class for representing an arbitrary 2D vector function.</p>
<p>Returns a Vector3D for a given 2D coordinate.</p>
<p>Using __call__() in cython is slow. This class provides an overloadable
cython cdef evaluate() method which has much less overhead than a python
function call.</p>
<p>For use in cython code only, this class cannot be extended via python.</p>
<p>To create a new function object, inherit this class and implement the
evaluate() method. The new function object can then be used with any code
that accepts a function object.</p>
</dd></dl>

<dl class="class">
<dt id="cherab.core.math.function.vectorfunction2d.PythonVectorFunction2D">
<em class="property">class </em><code class="descclassname">cherab.core.math.function.vectorfunction2d.</code><code class="descname">PythonVectorFunction2D</code><a class="headerlink" href="#cherab.core.math.function.vectorfunction2d.PythonVectorFunction2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cherab.core.math.function.vectorfunction2d.VectorFunction2D</span></code></p>
<p>Wraps a python callable object with a VectorFunction2D object.</p>
<p>This class allows a python object to interact with cython code that requires
a VectorFunction3D object. The python object must implement __call__()
expecting three arguments and return a Vector object.</p>
<p>This class is intended to be used to transparently wrap python objects that
are passed via constructors or methods into cython optimised code. It is not
intended that the users should need to directly interact with these wrapping
objects. Constructors and methods expecting a VectorFunction3D object should
be designed to accept a generic python object and then test that object to
determine if it is an instance of VectorFunction3D. If the object is not a
VectorFunction3D object it should be wrapped using this class for internal
use.</p>
<p>See also: autowrap_vectorfunction2d()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>function</strong> (<em>object</em>) – the 2d vector function object to wrap.</td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.core</span> <span class="kn">import</span> <span class="n">Vector3D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.math</span> <span class="kn">import</span> <span class="n">PythonVectorFunction2D</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">vectorfunction2d</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fv2</span> <span class="o">=</span> <span class="n">PythonVectorFunction2D</span><span class="p">(</span><span class="n">vectorfunction2d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fv2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">)</span>
<span class="go">Vector3D(1.0, 0.0, 0.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="cherab.core.math.function.ScalarToVectorFunction2D">
<em class="property">class </em><code class="descclassname">cherab.core.math.function.</code><code class="descname">ScalarToVectorFunction2D</code><a class="headerlink" href="#cherab.core.math.function.ScalarToVectorFunction2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cherab.core.math.function.vectorfunction2d.VectorFunction2D</span></code></p>
<p>Combines three Function2D objects to produce a VectorFunction2D.</p>
<p>The three Function2D objects correspond to the x, y and z components of the
resulting vector object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x_function</strong> (<em>Function2D</em>) – the Vx(x, y) 2d function.</li>
<li><strong>y_function</strong> (<em>Function2D</em>) – the Vy(x, y) 2d function.</li>
<li><strong>z_function</strong> (<em>Function2D</em>) – the Vz(x, y) 2d function.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.math</span> <span class="kn">import</span> <span class="n">Constant2D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.math.function</span> <span class="kn">import</span> <span class="n">ScalarToVectorFunction2D</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vx</span> <span class="o">=</span> <span class="n">Constant2D</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vy</span> <span class="o">=</span> <span class="n">Constant2D</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vz</span> <span class="o">=</span> <span class="n">Constant2D</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fv</span> <span class="o">=</span> <span class="n">ScalarToVectorFunction2D</span><span class="p">(</span><span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fv</span><span class="p">(</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">6.2</span><span class="p">)</span>
<span class="go">Vector3D(1.0, 2.0, 3.0)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="id1">
<h2>8.5.2. 3D Vector Functions<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cherab.core.math.function.VectorFunction3D">
<em class="property">class </em><code class="descclassname">cherab.core.math.function.</code><code class="descname">VectorFunction3D</code><a class="headerlink" href="#cherab.core.math.function.VectorFunction3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython optimised class for representing an arbitrary 3D vector function.</p>
<p>Returns a Vector3D for a given 3D coordinate.</p>
<p>Using __call__() in cython is slow. This class provides an overloadable
cython cdef evaluate() method which has much less overhead than a python
function call.</p>
<p>For use in cython code only, this class cannot be extended via python.</p>
<p>To create a new function object, inherit this class and implement the
evaluate() method. The new function object can then be used with any code
that accepts a function object.</p>
</dd></dl>

<dl class="class">
<dt id="cherab.core.math.function.vectorfunction3d.PythonVectorFunction3D">
<em class="property">class </em><code class="descclassname">cherab.core.math.function.vectorfunction3d.</code><code class="descname">PythonVectorFunction3D</code><a class="headerlink" href="#cherab.core.math.function.vectorfunction3d.PythonVectorFunction3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cherab.core.math.function.vectorfunction3d.VectorFunction3D</span></code></p>
<p>Wraps a python callable object with a VectorFunction3D object.</p>
<p>This class allows a python object to interact with cython code that requires
a VectorFunction3D object. The python object must implement __call__()
expecting three arguments and return a Vector object.</p>
<p>This class is intended to be used to transparently wrap python objects that
are passed via constructors or methods into cython optimised code. It is not
intended that the users should need to directly interact with these wrapping
objects. Constructors and methods expecting a VectorFunction3D object should
be designed to accept a generic python object and then test that object to
determine if it is an instance of VectorFunction3D. If the object is not a
VectorFunction3D object it should be wrapped using this class for internal
use.</p>
<p>See also: autowrap_vectorfunction3d()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>function</strong> (<em>object</em>) – the 3d vector function object to wrap.</td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.core</span> <span class="kn">import</span> <span class="n">Vector3D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.math</span> <span class="kn">import</span> <span class="n">PythonVectorFunction3D</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">vectorfunction3d</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fv3</span> <span class="o">=</span> <span class="n">PythonVectorFunction3D</span><span class="p">(</span><span class="n">vectorfunction3d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fv3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">)</span>
<span class="go">Vector3D(1.0, 0.0, 0.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="cherab.core.math.function.ScalarToVectorFunction3D">
<em class="property">class </em><code class="descclassname">cherab.core.math.function.</code><code class="descname">ScalarToVectorFunction3D</code><a class="headerlink" href="#cherab.core.math.function.ScalarToVectorFunction3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cherab.core.math.function.vectorfunction3d.VectorFunction3D</span></code></p>
<p>Combines three Function3D objects to produce a VectorFunction3D.</p>
<p>The three Function3D objects correspond to the x, y and z components of the
resulting vector object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x_function</strong> (<em>Function3D</em>) – the Vx(x, y, z) 3d function.</li>
<li><strong>y_function</strong> (<em>Function3D</em>) – the Vy(x, y, z) 3d function.</li>
<li><strong>z_function</strong> (<em>Function3D</em>) – the Vz(x, y, z) 3d function.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.math</span> <span class="kn">import</span> <span class="n">Constant3D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.math.function</span> <span class="kn">import</span> <span class="n">ScalarToVectorFunction3D</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vx</span> <span class="o">=</span> <span class="n">Constant3D</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vy</span> <span class="o">=</span> <span class="n">Constant3D</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vz</span> <span class="o">=</span> <span class="n">Constant3D</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fv</span> <span class="o">=</span> <span class="n">ScalarToVectorFunction3D</span><span class="p">(</span><span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fv</span><span class="p">(</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">6.2</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">)</span>
<span class="go">Vector3D(1.0, 2.0, 3.0)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="interpolators.html" class="btn btn-neutral float-right" title="8.6. Interpolators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="constant.html" class="btn btn-neutral" title="8.4. Constants" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, CHERAB Team.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.01',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>