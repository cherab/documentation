

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8.6. Interpolators &mdash; CHERAB 1.01 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8.7. Mappers" href="mappers.html" />
    <link rel="prev" title="8.5. Functions" href="function.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> CHERAB
          

          
          </a>

          
            
            
              <div class="version">
                1.01
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../welcome.html">1. Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../licence.html">2. Licence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation_and_structure.html">3. Installation and Project Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../available_modules.html">4. Available Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../atomic/atomic_data.html">5. Atomic Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plasmas/plasmas.html">6. Plasmas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/emission_models.html">7. Emission Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="math.html">8. Function Framework</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="blend.html">8.1. Blending</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">8.2. Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="clamp.html">8.3. Clamps</a></li>
<li class="toctree-l2"><a class="reference internal" href="constant.html">8.4. Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="function.html">8.5. Functions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">8.6. Interpolators</a></li>
<li class="toctree-l2"><a class="reference internal" href="mappers.html">8.7. Mappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="mask.html">8.8. Masks</a></li>
<li class="toctree-l2"><a class="reference internal" href="samplers.html">8.9. Samplers</a></li>
<li class="toctree-l2"><a class="reference internal" href="slice.html">8.10. Slicing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools/tools.html">9. Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Demonstrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html">Atomic Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html#creating-plasmas">Creating Plasmas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html#surface-radiation-loads">Surface Radiation Loads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html#code-examples-gallery">Code examples gallery</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CHERAB</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="math.html">8. Function Framework</a> &raquo;</li>
        
      <li>8.6. Interpolators</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/math/interpolators.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="interpolators">
<h1>8.6. Interpolators<a class="headerlink" href="#interpolators" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cherab.core.math.interpolators.interpolators1d.Interpolate1DLinear">
<em class="property">class </em><code class="descclassname">cherab.core.math.interpolators.interpolators1d.</code><code class="descname">Interpolate1DLinear</code><a class="headerlink" href="#cherab.core.math.interpolators.interpolators1d.Interpolate1DLinear" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates 1D data using linear interpolation.</p>
<p>Inherits from Function1D, implements <cite>__call__(x)</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>object</em>) – A 1D array-like object of real values.</li>
<li><strong>f</strong> (<em>object</em>) – A 1D array-like object of real values. The length
of <cite>f_data</cite> must be equal to the length of <cite>x_data</cite>.</li>
<li><strong>extrapolate</strong> (<em>bint</em>) – If True, the extrapolation of data is enabled
outside the range of the data set. The default is False. A ValueError
is raised if extrapolation is disabled and a point is requested outside
the data set.</li>
<li><strong>extrapolation_type</strong> (<em>object</em>) – Sets the method of extrapolation. The
options are: ‘nearest’ (default), ‘linear’.</li>
<li><strong>extrapolation_range</strong> (<em>double</em>) – The attribute can be set to limit the
range beyond the data set bounds that extrapolation is permitted. The
default range is set to infinity. Requesting data beyond the extrapolation
range will result in a ValueError being raised.</li>
<li><strong>tolerate_single_value</strong> – If True, single-value arrays will be tolerated
as inputs. If a single value is supplied, that value will be extrapolated
over the entire real range. If False (default), supplying a single value
will result in a ValueError being raised.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.math</span> <span class="kn">import</span> <span class="n">Interpolate1DLinear</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1d</span> <span class="o">=</span> <span class="n">Interpolate1DLinear</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2500</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1d</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
<span class="go">2300.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1d</span><span class="p">(</span><span class="mf">0.875</span><span class="p">)</span>
<span class="go">1062.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1d</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
<span class="go">ValueError: The specified value (x=1.2) is outside the range of the supplied</span>
<span class="go">data and/or extrapolation range: x bounds=(0.0, 1.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="cherab.core.math.interpolators.interpolators1d.Interpolate1DCubic">
<em class="property">class </em><code class="descclassname">cherab.core.math.interpolators.interpolators1d.</code><code class="descname">Interpolate1DCubic</code><a class="headerlink" href="#cherab.core.math.interpolators.interpolators1d.Interpolate1DCubic" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates 1D data using cubic interpolation.</p>
<p>Inherits from Function1D, implements <cite>__call__(x)</cite>.</p>
<p>Data and coordinates are first normalised to the range [0, 1] so as to
prevent inaccuracy from float numbers. Spline coefficients are cached
so they have to be calculated at initialisation only.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>object</em>) – A 1D array-like object of real values.</li>
<li><strong>f</strong> (<em>object</em>) – A 1D array-like object of real values. The length
of <cite>f_data</cite> must be equal to the length of <cite>x_data</cite>.</li>
<li><strong>continuity_order</strong> (<em>int</em>) – Sets the continuity of the cubic spline.
When set to 1 the cubic spline second derivatives are estimated from
the data samples and is not continuous. Here, the first derivative is
free and forced to be continuous, but the second derivative is imposed
from finite differences estimation. When set to 2 the cubic spline
second derivatives are free but are forced to be continuous. Defaults
to <cite>continuity_order = 2</cite>.</li>
<li><strong>extrapolate</strong> (<em>bint</em>) – If True, the extrapolation of data is enabled
outside the range of the data set. The default is False. A ValueError
is raised if extrapolation is disabled and a point is requested
outside the data set.</li>
<li><strong>extrapolation_type</strong> (<em>object</em>) – Sets the method of extrapolation.
The options are: ‘nearest’ (default), ‘linear’, ‘quadratic’</li>
<li><strong>extrapolation_range</strong> (<em>double</em>) – The attribute can be set to limit
the range beyond the data set bounds that extrapolation is permitted.
The default range is set to infinity. Requesting data beyond the
extrapolation range will result in a ValueError being raised.</li>
<li><strong>tolerate_single_value</strong> – If True, single-value arrays will be
tolerated as inputs. If a single value is supplied, that value
will be extrapolated over the entire real range. If False (default),
supplying a single value will result in a ValueError being raised.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.math</span> <span class="kn">import</span> <span class="n">Interpolate1DCubic</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1d</span> <span class="o">=</span> <span class="n">Interpolate1DCubic</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2500</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1d</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
<span class="go">2197.4683</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1d</span><span class="p">(</span><span class="mf">0.875</span><span class="p">)</span>
<span class="go">1184.4343</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1d</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
<span class="go">ValueError: The specified value (x=1.2) is outside the range of the supplied</span>
<span class="go">data and/or extrapolation range: x bounds=(0.0, 1.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="cherab.core.math.interpolators.interpolators2d.Interpolate2DLinear">
<em class="property">class </em><code class="descclassname">cherab.core.math.interpolators.interpolators2d.</code><code class="descname">Interpolate2DLinear</code><a class="headerlink" href="#cherab.core.math.interpolators.interpolators2d.Interpolate2DLinear" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates 2D data using linear interpolation.</p>
<p>Inherits from Function2D, implements <cite>__call__(x, y)</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>object</em>) – An array-like object containing real values.</li>
<li><strong>y</strong> (<em>object</em>) – An array-like object containing real values.</li>
<li><strong>f</strong> (<em>object</em>) – A 2D array-like object of sample values corresponding to the
<cite>x</cite> and <cite>y</cite> array points.</li>
<li><strong>extrapolate</strong> (<em>bint</em>) – If True, the extrapolation of data is enabled outside
the range of the data set. The default is False. A ValueError is raised if
extrapolation is disabled and a point is requested outside the data set.</li>
<li><strong>extrapolation_type</strong> (<em>object</em>) – Sets the method of extrapolation. The options
are: ‘nearest’ (default), ‘linear’</li>
<li><strong>extrapolation_range</strong> (<em>double</em>) – The attribute can be set to limit the range
beyond the data set bounds that extrapolation is permitted. The default range
is set to infinity. Requesting data beyond the extrapolation range will result
in a ValueError being raised.</li>
<li><strong>tolerate_single_value</strong> – If True, single-value arrays will be tolerated as
inputs. If a single value is supplied, that value will be extrapolated over
the entire real range. If False (default), supplying a single value will
result in a ValueError being raised.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.math</span> <span class="kn">import</span> <span class="n">Interpolate2DLinear</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># implements x**2 + y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">drange</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">drange</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">drange</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2d</span> <span class="o">=</span> <span class="n">Interpolate2DLinear</span><span class="p">(</span><span class="n">drange</span><span class="p">,</span> <span class="n">drange</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2d</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">0.00063769</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2d</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">5.00022956</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2d</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">ValueError: The specified value (x=-2.0, y=3.0) is outside the range of the supplied</span>
<span class="go">data and/or extrapolation range: x bounds=(-2.5, 2.5), y bounds=(-2.5, 2.5)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="cherab.core.math.interpolators.interpolators2d.Interpolate2DCubic">
<em class="property">class </em><code class="descclassname">cherab.core.math.interpolators.interpolators2d.</code><code class="descname">Interpolate2DCubic</code><a class="headerlink" href="#cherab.core.math.interpolators.interpolators2d.Interpolate2DCubic" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates 2D data using cubic interpolation.</p>
<p>Inherits from Function2D, implements <cite>__call__(x, y)</cite>.</p>
<p>Data and coordinates are first normalised to the range [0, 1] so as to
prevent inaccuracy from float numbers. A local calculation based on finite
differences is used. The splines coefficients are not calculated before
evaluation but on demand only and are cached as they are calculated. Plus,
only one polynomial is calculated at each evaluation. The first derivatives
and the cross derivative are imposed by the finite differences. The resulting
function is C1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>object</em>) – An array-like object containing real values.</li>
<li><strong>y</strong> (<em>object</em>) – An array-like object containing real values.</li>
<li><strong>f</strong> (<em>object</em>) – A 2D array-like object of sample values corresponding to the
<cite>x</cite> and <cite>y</cite> array points.</li>
<li><strong>extrapolate</strong> (<em>bint</em>) – If True, the extrapolation of data is enabled outside
the range of the data set. The default is False. A ValueError is raised if
extrapolation is disabled and a point is requested outside the data set.</li>
<li><strong>extrapolation_type</strong> (<em>object</em>) – Sets the method of extrapolation. The options
are: ‘nearest’ (default), ‘linear’, ‘quadratic’.</li>
<li><strong>extrapolation_range</strong> (<em>double</em>) – The attribute can be set to limit the range
beyond the data set bounds that extrapolation is permitted. The default range
is set to infinity. Requesting data beyond the extrapolation range will result
in a ValueError being raised.</li>
<li><strong>tolerate_single_value</strong> – If True, single-value arrays will be tolerated as
inputs. If a single value is supplied, that value will be extrapolated over
the entire real range. If False (default), supplying a single value will
result in a ValueError being raised.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.math</span> <span class="kn">import</span> <span class="n">Interpolate2DCubic</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># implements x**2 + y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">drange</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">drange</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">drange</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2d</span> <span class="o">=</span> <span class="n">Interpolate2DCubic</span><span class="p">(</span><span class="n">drange</span><span class="p">,</span> <span class="n">drange</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2d</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">0.00063769</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2d</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">5.00022956</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2d</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">ValueError: The specified value (x=-2.0, y=3.0) is outside the range of the supplied</span>
<span class="go">data and/or extrapolation range: x bounds=(-2.5, 2.5), y bounds=(-2.5, 2.5)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="cherab.core.math.interpolators.interpolators3d.Interpolate3DLinear">
<em class="property">class </em><code class="descclassname">cherab.core.math.interpolators.interpolators3d.</code><code class="descname">Interpolate3DLinear</code><a class="headerlink" href="#cherab.core.math.interpolators.interpolators3d.Interpolate3DLinear" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates 3D data using linear interpolation.</p>
<p>Inherits from Function3D, implements <cite>__call__(x, y, z)</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>object</em>) – An array-like object containing real values.</li>
<li><strong>y</strong> (<em>object</em>) – An array-like object containing real values.</li>
<li><strong>z</strong> (<em>object</em>) – An array-like object containing real values.</li>
<li><strong>f</strong> (<em>object</em>) – A 3D array-like object of sample values corresponding to the
<cite>x</cite>, <cite>y</cite> and <cite>z</cite> array points.</li>
<li><strong>extrapolate</strong> (<em>bint</em>) – If True, the extrapolation of data is enabled outside
the range of the data set. The default is False. A ValueError is raised if
extrapolation is disabled and a point is requested outside the data set.</li>
<li><strong>extrapolation_type</strong> (<em>object</em>) – Sets the method of extrapolation.
The options are: ‘nearest’ (default), ‘linear’.</li>
<li><strong>extrapolation_range</strong> (<em>double</em>) – The attribute can be set to limit the range
beyond the data set bounds that extrapolation is permitted. The default range
is set to infinity. Requesting data beyond the extrapolation range will result
in a ValueError being raised.</li>
<li><strong>tolerate_single_value</strong> – If True, single-value arrays will be tolerated as
inputs. If a single value is supplied, that value will be extrapolated over
the entire real range. If False (default), supplying a single value will
result in a ValueError being raised.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.math</span> <span class="kn">import</span> <span class="n">Interpolate3DLinear</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># implements x**3 + y**2 + z</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">drange</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">drange</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">drange</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">drange</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3d</span> <span class="o">=</span> <span class="n">Interpolate3DLinear</span><span class="p">(</span><span class="n">drange</span><span class="p">,</span> <span class="n">drange</span><span class="p">,</span> <span class="n">drange</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3d</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">0.00063769</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3d</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
<span class="go">-5.50085102</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3d</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">ValueError: The specified value (x=-3.0, y=1.0, z=0.0) is outside the range</span>
<span class="go">of the supplied data and/or extrapolation range: x bounds=(-2.5, 2.5),</span>
<span class="go">y bounds=(-2.5, 2.5), z bounds=(-2.5, 2.5)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="cherab.core.math.interpolators.interpolators3d.Interpolate3DCubic">
<em class="property">class </em><code class="descclassname">cherab.core.math.interpolators.interpolators3d.</code><code class="descname">Interpolate3DCubic</code><a class="headerlink" href="#cherab.core.math.interpolators.interpolators3d.Interpolate3DCubic" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates 3D data using cubic interpolation.</p>
<p>Inherits from Function3D, implements <cite>__call__(x, y, z)</cite>.</p>
<p>Data and coordinates are first normalised to the range [0, 1] so as to
prevent inaccuracy from float numbers. A local calculation based on
finite differences is used. The splines coefficients are calculated
on demand and are cached as they are calculated. Plus, no more than
one polynomial is calculated at each evaluation. The first derivatives
and the cross derivatives (xy, xz, yz and xyz) are imposed by the
finite differences approximation, and the resulting function is C1
(first derivatives are continuous).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>object</em>) – An array-like object containing real values.</li>
<li><strong>y</strong> (<em>object</em>) – An array-like object containing real values.</li>
<li><strong>z</strong> (<em>object</em>) – An array-like object containing real values.</li>
<li><strong>f</strong> (<em>object</em>) – A 3D array-like object of sample values corresponding to the
<cite>x</cite>, <cite>y</cite> and <cite>z</cite> array points.</li>
<li><strong>extrapolate</strong> (<em>bint</em>) – If True, the extrapolation of data is enabled
outside the range of the data set. The default is False. A ValueError
is raised if extrapolation is disabled and a point is requested
outside the data set.</li>
<li><strong>extrapolation_type</strong> (<em>object</em>) – Sets the method of extrapolation.
The options are: ‘nearest’ (default), ‘linear’, ‘quadratic’.</li>
<li><strong>extrapolation_range</strong> (<em>double</em>) – The attribute can be set to limit
the range beyond the data set bounds that extrapolation is permitted.
The default range is set to infinity. Requesting data beyond the
extrapolation range will result in a ValueError being raised.</li>
<li><strong>tolerate_single_value</strong> – If True, single-value arrays will be
tolerated as inputs. If a single value is supplied, that value will
be extrapolated over the entire real range. If False (default),
supplying a single value will result in a ValueError being raised.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.math</span> <span class="kn">import</span> <span class="n">Interpolate3DCubic</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># implements x**3 + y**2 + z</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">drange</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">drange</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">drange</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">drange</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3d</span> <span class="o">=</span> <span class="n">Interpolate3DCubic</span><span class="p">(</span><span class="n">drange</span><span class="p">,</span> <span class="n">drange</span><span class="p">,</span> <span class="n">drange</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3d</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">-1.7763e-14</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3d</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
<span class="go">-5.50000927</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3d</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">ValueError: The specified value (x=-3.0, y=1.0, z=0.0) is outside the range</span>
<span class="go">of the supplied data and/or extrapolation range: x bounds=(-2.5, 2.5),</span>
<span class="go">y bounds=(-2.5, 2.5), z bounds=(-2.5, 2.5)</span>
</pre></div>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mappers.html" class="btn btn-neutral float-right" title="8.7. Mappers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="function.html" class="btn btn-neutral" title="8.5. Functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, CHERAB Team.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.01',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>