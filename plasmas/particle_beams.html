

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.3. Mono-energetic Particle Beams &mdash; CHERAB 1.01 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7. Emission Models" href="../models/emission_models.html" />
    <link rel="prev" title="6.2. Plasma equilibrium" href="equilibrium.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> CHERAB
          

          
          </a>

          
            
            
              <div class="version">
                1.01
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../welcome.html">1. Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../licence.html">2. Licence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation_and_structure.html">3. Installation and Project Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../available_modules.html">4. Available Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../atomic/atomic_data.html">5. Atomic Data</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="plasmas.html">6. Plasmas</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core_plasma_classes.html">6.1. Core Plasma Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="equilibrium.html">6.2. Plasma equilibrium</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6.3. Mono-energetic Particle Beams</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../models/emission_models.html">7. Emission Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math.html">8. Math functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/tools.html">9. Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Demonstrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html">Atomic Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html#creating-plasmas">Creating Plasmas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html#surface-radiation-loads">Surface Radiation Loads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demonstrations/demonstrations.html#code-examples-gallery">Code examples gallery</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CHERAB</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="plasmas.html">6. Plasmas</a> &raquo;</li>
        
      <li>6.3. Mono-energetic Particle Beams</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/plasmas/particle_beams.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mono-energetic-particle-beams">
<h1>6.3. Mono-energetic Particle Beams<a class="headerlink" href="#mono-energetic-particle-beams" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cherab.core.Beam">
<em class="property">class </em><code class="descclassname">cherab.core.</code><code class="descname">Beam</code><a class="headerlink" href="#cherab.core.Beam" title="Permalink to this definition">¶</a></dt>
<dd><p>A scene-graph object representing a Gaussian mono-energetic beam.</p>
<p>The CHERAB beam object holds all the properties and state of a mono-energetic
particle beam to which beam attenuation and emission models may be attached.
The Beam object is defined in terms of its power, energy, geometric properties
and the plasma it interacts with.</p>
<p>The Beam object is a Raysect scene-graph node and lives in it’s own
coordinate space. This coordinate space is defined relative to it’s parent
scene-graph object by an AffineTransform. The beam parameters are defined
in the Beam object coordinate space. Models using the beam object must
convert any spatial coordinates into beam space before requesting values
from the Beam object. The Beam axis is defined to lie along the positive
z-axis with its origin at the origin of the local coordinate system.</p>
<p>While a Beam object can be used to simply hold and sample beam properties,
it can also be used as an emitter in Raysect scenes by attaching
emission models. The Beam’s bounding geometry is automatically defined from
the Beam’s initial width and divergence. The length of the Beam geometry
needs to be set by the user.</p>
<p>Beam emission models may be attached to the beam
object by either setting the full list of models or adding to the list of
models. See the Beam’s ModelManager for more information. The beam emission models
must be derived from the BeamModel base class.</p>
<p>Any change to the beam object properties and models
will result in a automatic notification being sent to objects that register
with the Beam objects’ Notifier. All CHERAB models and associated scene-graph
objects automatically handle the notifications internally to clear
cached data. If you need to keep track of beam changes in your own classes,
a callback can be registered with the beam Notifier which will be called in
the event of a change to the Beam object. See the Notifier documentation.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In the current implementation of the Beam class, the Beam can only be associated
with a single plasma instance. If your scene has overlapping plasmas the
beam attenuation will only be calculated for the plasma instance to which
this beam is attached.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>parent</strong> (<em>Node</em>) – The parent node in the Raysect scene-graph.
See the Raysect documentation for more guidance.</li>
<li><strong>transform</strong> (<em>AffineMatrix3D</em>) – The transform defining the spatial position
and orientation of this beam. See the Raysect documentation if you need
guidance on how to use AffineMatrix3D transforms.</li>
<li><strong>name</strong> (<em>str</em>) – The name for this beam object.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>atomic_data</strong> (<em>AtomicData</em>) – The atomic data provider class for this beam.
All beam emission and attenuation rates will be calculated from the same provider.</li>
<li><strong>attenuator</strong> (<em>BeamAttenuator</em>) – The method used for calculating the attenuation
of this beam into the plasma. Defaults to a SingleRayAttenuator().</li>
<li><strong>divergence_x</strong> (<em>float</em>) – The beam profile divergence in the x dimension in beam
coordinates (degrees).</li>
<li><strong>divergence_y</strong> (<em>float</em>) – The beam profile divergence in the y dimension in beam
coordinates (degrees).</li>
<li><strong>element</strong> (<a class="reference internal" href="../atomic/elements_and_isotopes.html#cherab.core.atomic.elements.Element" title="cherab.core.atomic.elements.Element"><em>Element</em></a>) – The element of which this beam is composed.</li>
<li><strong>energy</strong> (<em>float</em>) – The beam energy in eV/amu.</li>
<li><strong>integrator</strong> (<em>VolumeIntegrator</em>) – The configurable method for doing
volumetric integration through the beam along a Ray’s path. Defaults to
a numerical integrator with 1mm step size, NumericalIntegrator(step=0.001).</li>
<li><strong>length</strong> (<em>float</em>) – The approximate length of this beam from source to extinction
in the plasma. This is used for setting the bounding geometry over which calculations
will occur. Units of m.</li>
<li><strong>models</strong> (<em>ModelManager</em>) – The manager class that sets and provides access to the
emission models for this beam.</li>
<li><strong>plasma</strong> (<a class="reference internal" href="core_plasma_classes.html#cherab.core.Plasma" title="cherab.core.Plasma"><em>Plasma</em></a>) – The plasma instance with which this beam interacts.</li>
<li><strong>power</strong> (<em>float</em>) – The total beam power in W.</li>
<li><strong>sigma</strong> (<em>float</em>) – The guassian beam width at the origin in m.</li>
<li><strong>temperature</strong> (<em>float</em>) – The broadening of the beam (eV).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># This example shows how to initialise and populate a basic beam</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.core.math</span> <span class="kn">import</span> <span class="n">Vector3D</span><span class="p">,</span> <span class="n">translate</span><span class="p">,</span> <span class="n">rotate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.optical</span> <span class="kn">import</span> <span class="n">World</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.atomic</span> <span class="kn">import</span> <span class="n">carbon</span><span class="p">,</span> <span class="n">deuterium</span><span class="p">,</span> <span class="n">Line</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.core.model</span> <span class="kn">import</span> <span class="n">BeamCXLine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cherab.openadas</span> <span class="kn">import</span> <span class="n">OpenADAS</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">world</span> <span class="o">=</span> <span class="n">World</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span> <span class="o">=</span> <span class="n">Beam</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">world</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">translate</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">rotate</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span><span class="o">.</span><span class="n">plasma</span> <span class="o">=</span> <span class="n">plasma</span>  <span class="c1"># put your plasma object here</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span><span class="o">.</span><span class="n">atomic_data</span> <span class="o">=</span> <span class="n">OpenADAS</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span><span class="o">.</span><span class="n">energy</span> <span class="o">=</span> <span class="mi">60000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span><span class="o">.</span><span class="n">power</span> <span class="o">=</span> <span class="mf">1e4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span><span class="o">.</span><span class="n">element</span> <span class="o">=</span> <span class="n">deuterium</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span><span class="o">.</span><span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.025</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span><span class="o">.</span><span class="n">divergence_x</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span><span class="o">.</span><span class="n">divergence_y</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span><span class="o">.</span><span class="n">length</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span><span class="o">.</span><span class="n">models</span> <span class="o">=</span> <span class="p">[</span><span class="n">BeamCXLine</span><span class="p">(</span><span class="n">Line</span><span class="p">(</span><span class="n">carbon</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">)))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span><span class="o">.</span><span class="n">integrator</span><span class="o">.</span><span class="n">step</span> <span class="o">=</span> <span class="mf">0.001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam</span><span class="o">.</span><span class="n">integrator</span><span class="o">.</span><span class="n">min_samples</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
<dl class="method">
<dt id="cherab.core.Beam.density">
<code class="descname">density</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cherab.core.Beam.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the bean density at the specified position in beam coordinates.</p>
<p>Note: this function is only defined over the domain 0 &lt; z &lt; beam_length.
Outside of this range the density is clamped to zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – x coordinate in meters.</li>
<li><strong>y</strong> – y coordinate in meters.</li>
<li><strong>z</strong> – z coordinate in meters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Beam density in m^-3</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cherab.core.Beam.direction">
<code class="descname">direction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cherab.core.Beam.direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the beam direction vector at a point in space.</p>
<p>Note the values of the beam outside of the beam envelope should be
treated with caution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – x coordinate in meters.</li>
<li><strong>y</strong> – y coordinate in meters.</li>
<li><strong>z</strong> – z coordinate in meters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Direction vector.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../models/emission_models.html" class="btn btn-neutral float-right" title="7. Emission Models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="equilibrium.html" class="btn btn-neutral" title="6.2. Plasma equilibrium" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, CHERAB Team.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.01',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>